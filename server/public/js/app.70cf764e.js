(function(e){function t(t){for(var n,i,s=t[0],c=t[1],u=t[2],l=0,m=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"48d1ff69"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e);var u=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(l);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",u.name="ChunkLoadError",u.type=n,u.request=o,r[1](u)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0854":function(e,t,r){"use strict";r("6374")},1455:function(e,t,r){},"37dc":function(e,t,r){e.exports=r.p+"img/vinden.4439b81f.jpeg"},"4d94":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("Header"),r("v-main",{staticClass:"pb-16"},[r("router-view")],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",[r("v-app-bar",{staticStyle:{background:"linear-gradient(to right top, #e8dfe0, #ead3d1, #e9c7be, #e4bea8, #dab692)"},attrs:{app:"",fixed:"",dark:"","elevate-on-scroll":""}},[r("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),r("v-list-item",[r("v-list-item-title",{staticClass:"title"},[r("router-link",{attrs:{to:"/",exact:""}},[e._v(" MYhome ")])],1)],1),r("v-spacer"),r("v-btn",{attrs:{icon:"",color:"secondary"}},[r("v-icon",[e._v("mdi-magnify")])],1),e.loggedIn?e._e():r("v-btn",{attrs:{color:"white",text:"",to:"/signup"}},[r("span",[e._v("Registrera")]),r("v-icon",{attrs:{right:""}})],1),e.loggedIn?r("v-btn",{attrs:{to:"/login",color:"grey",text:""},on:{click:e.logout}},[r("span",[e._v("Logga ut")]),r("v-icon",{attrs:{right:""}})],1):e._e(),e.loggedIn?e._e():r("v-btn",{attrs:{to:"/login",color:"white",text:""}},[r("span",[e._v("Logga in")]),r("v-icon",{attrs:{right:""}})],1)],1),r("v-navigation-drawer",{staticClass:"deep-purple accent-4",staticStyle:{background:"linear-gradient(to right top, #e8dfe0, #ead3d1, #e9c7be, #e4bea8, #dab692)"},attrs:{dark:"",app:""},scopedSlots:e._u([{key:"append",fn:function(){return[r("div",{staticClass:"pa-2"},[e.loggedIn?r("v-btn",{attrs:{to:"/login",block:"",color:"accent1"},on:{click:e.logout}},[e._v(" Logout ")]):e._e()],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",e._l(e.items,(function(t){return r("v-list-item",{key:t.title,attrs:{link:""}},[r("v-list-item-icon",[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-item-content",[r("router-link",{attrs:{to:t.link,exact:""}},[r("v-list-item-title",[e._v(e._s(t.title))])],1)],1)],1)})),1)],1)],1)},s=[],c=(r("96cf"),r("1da1")),u={name:"Header",data:function(){return{drawer:!1,items:[{title:"Dashboard",icon:"mdi-view-dashboard",link:"/"},{title:"Mitt Hus",icon:"mdi-home-city",link:"/house"},{title:"Projekt",icon:"mdi-calendar-check-outline",link:"/project"},{title:"Inventarier",icon:"mdi-ballot",link:"/item"},{title:"Mitt konto",icon:"mdi-account-box",link:"/createproject"},{title:"Admin",icon:"mdi-gavel",link:"/createitem"}]}},methods:{logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("SESSION/logout");case 2:e.$store.state.commit("SESSION/setLoggedIn",!1),localStorage.setItem("loggedIn",JSON.stringify(!1)),e.$router.push({name:"Login"});case 5:case"end":return t.stop()}}),t)})))()}},computed:{loggedIn:function(){return this.$store.getters["SESSION/getLoggedIn"]}}},l=u,d=(r("6073"),r("2877")),m=r("6544"),p=r.n(m),f=r("40dc"),v=r("5bc1"),g=r("8336"),h=r("132d"),b=r("8860"),x=r("da13"),I=r("5d23"),j=r("34c3"),_=r("f774"),w=r("2fa4"),k=Object(d["a"])(l,i,s,!1,null,"30e104a0",null),S=k.exports;p()(k,{VAppBar:f["a"],VAppBarNavIcon:v["a"],VBtn:g["a"],VIcon:h["a"],VList:b["a"],VListItem:x["a"],VListItemContent:I["a"],VListItemIcon:j["a"],VListItemTitle:I["c"],VNavigationDrawer:_["a"],VSpacer:w["a"]});var O={name:"App",components:{Header:S},mounted:function(){this.$store.dispatch("PROJECT/setProjectFromStorage"),this.$store.dispatch("ITEMS/setItemFromStorage"),this.$store.dispatch("HOUSE/setHouseFromStorage"),this.$store.dispatch("PROJECT/setProjects"),this.$store.dispatch("HOUSE/setHouses"),this.$store.dispatch("ROOM/setRooms"),this.$store.dispatch("ITEMS/setItems")}},P=O,y=r("7496"),R=r("f6c4"),V=Object(d["a"])(P,a,o,!1,null,null,null),C=V.exports;p()(V,{VApp:y["a"],VMain:R["a"]});var E=r("f309");n["a"].use(E["a"]);var T=new E["a"]({theme:{themes:{light:{base:"#E8DFE0",primary:"#DAB692",secondary:"#8f5b34",accent1:"#8A9EA7",accent2:"#8D9B6A"}}}}),$=T,H=(r("45fc"),r("d3b7"),r("8c4f")),F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("Quick-start"),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("Dashboard")],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[n("v-card",{staticClass:"mx-auto",attrs:{color:"base"}},[n("v-img",{staticClass:"white--text align-end",attrs:{height:"150px",src:r("37dc")}},[n("v-card-title",[n("h3",[e._v("Senaste anteckning")])])],1),n("v-card-subtitle",[e._v(" 2021-01-02 En massa kablar och annat bös ")]),n("v-card-text",[n("div",[e._v(" Behöver fixa ventialtionen "),n("span"),e._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. ")])])],1)],1)],1)],1)},N=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7","max-height":"100%"}},[n("v-card",{staticClass:"mx-auto pt-2",attrs:{color:"primary"}},[void 0!==e.project?n("v-card-title",[e._v(" "+e._s(e.project.projectName)+" ")]):e._e(),n("v-card-subtitle",{attrs:{text:""}},[e._v(" 2021-01-02 En massa kablar och annat bös ")]),n("v-img",{attrs:{height:"200",src:r("759d")}}),n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{color:"primary"}},[e._v(" Mitt hem ")]),e._l(e.houses,(function(t){return n("v-expansion-panel-content",{key:t._id,attrs:{color:"primary",fucosable:""}},[n("v-container",[n("v-btn",{attrs:{color:"base",width:"90%"},on:{click:function(r){return e.goToHouseHandler(t)}}},[e._v(e._s(t.houseName)+" ")])],1),n("v-card-text",[e._v(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci aspernatur neque sequi exercitationem consectetur excepturi unde, voluptatibus ratione mollitia nobis reprehenderit, maiores quasi nulla dicta magni tempora at veritatis ducimus. ")])],1)}))],2),void 0!==e.projects?n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{color:"primary"}},[e._v(" Mina projekt ")]),e._l(e.projects,(function(t){return n("v-expansion-panel-content",{key:t._id,attrs:{color:"primary",fucosable:""}},[n("v-container",[n("v-btn",{attrs:{color:"base",width:"70%"},on:{click:function(r){return e.goToProjectHandler(t)}}},[e._v(e._s(t.projectName)+" ")]),n("Delete-project-dialog",{attrs:{project:t}})],1)],1)}))],2):e._e()],1)],1)],1)},D=[],L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"344"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",a,!1),n),[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-delete")])],1)]}}]),model:{value:e.dialogBox,callback:function(t){e.dialogBox=t},expression:"dialogBox"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Radera projekt")]),r("v-card-text",[r("div",{staticClass:"text-h5 mt-4 text-center"},[e._v(" Vill du radera "+e._s(e.project.projectName)+"? ")])]),r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{attrs:{color:"accent1"},on:{click:function(t){return e.deleteProjectHandler(e.project._id)}}},[e._v("JA")]),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogBox=!1}}},[e._v("NEJ")])],1)],1)],1)},M=[],A={name:"deleteProjectDialog",data:function(){return{dialogBox:!1}},props:{project:{type:Object}},methods:{deleteProjectHandler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("PROJECT/deleteProject",e);case 2:void 0!==t.$store.getters["PROJECT/getProject"]&&(0!==t.$store.getters["PROJECT/getProject"].length?localStorage.setItem("currentProject",JSON.stringify(t.$store.getters["PROJECT/getProjects"][0])):localStorage.setItem("currentProject",[])),t.$store.dispatch("PROJECT/setProject"),t.$store.dispatch("PROJECT/setProjects"),t.dialogBox=!1;case 6:case"end":return r.stop()}}),r)})))()}}},B=A,U=r("b0af"),q=r("99d9"),z=r("169a"),G=r("71d9"),Q=Object(d["a"])(B,L,M,!1,null,null,null),Y=Q.exports;p()(Q,{VBtn:g["a"],VCard:U["a"],VCardActions:q["a"],VCardText:q["c"],VDialog:z["a"],VIcon:h["a"],VToolbar:G["a"]});var K={namespaced:!0,name:"Dashboard",data:function(){return{settings:[]}},components:{DeleteProjectDialog:Y},methods:{goToProjectHandler:function(e){this.$store.dispatch("PROJECT/setProject",e),localStorage.setItem("currentProject",JSON.stringify(e)),this.$router.push("Project")},goToHouseHandler:function(e){this.$store.dispatch("HOUSE/setHouse",e),localStorage.setItem("currentHouse",JSON.stringify(e)),this.$router.push({name:"House"})}},computed:{projects:function(){return this.$store.getters["PROJECT/getProjects"]},houses:function(){return this.$store.getters["HOUSE/getHouses"]},project:function(){return void 0!==this.$store.getters["PROJECT/getProject"]&&0!==this.$store.getters["PROJECT/getProject"].length?this.$store.getters["PROJECT/getProjectFromProjects"](this.$store.getters["PROJECT/getProject"]._id):[]}}},W=K,X=r("a523"),Z=r("cd55"),ee=r("49e2"),te=r("c865"),re=r("0393"),ne=r("adda"),ae=r("8dd9"),oe=Object(d["a"])(W,J,D,!1,null,null,null),ie=oe.exports;p()(oe,{VBtn:g["a"],VCard:U["a"],VCardSubtitle:q["b"],VCardText:q["c"],VCardTitle:q["d"],VContainer:X["a"],VExpansionPanel:Z["a"],VExpansionPanelContent:ee["a"],VExpansionPanelHeader:te["a"],VExpansionPanels:re["a"],VImg:ne["a"],VSheet:ae["a"]});var se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-0"},[r("v-speed-dial",{attrs:{height:"100vh",fixed:"",bottom:"",absolute:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-btn",{attrs:{fab:"",dark:"","x-large":"",color:"accent2"},model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[e.fab?r("v-icon",[e._v(" mdi-close ")]):r("v-icon",[e._v(" mdi-plus ")])],1)]},proxy:!0}]),model:{value:e.fab,callback:function(t){e.fab=t},expression:"fab"}},[r("v-btn",{attrs:{fab:"",dark:"",medium:"",color:"accent1"}},[r("v-icon",[e._v("mdi-pencil")])],1),r("v-btn",{attrs:{fab:"",dark:"",medium:"",color:"primary"}},[r("v-icon",[e._v("mdi-briefcase")])],1),r("v-btn",{attrs:{fab:"",dark:"",medium:"",color:"secondary"},on:{click:function(t){e.dialogOutside=!0}}},[r("v-icon",[e._v("mdi-call-split")])],1)],1),r("v-dialog",{attrs:{width:"500"},model:{value:e.dialogOutside,callback:function(t){e.dialogOutside=t},expression:"dialogOutside"}},[r("CreateItem",{on:{"close-dialog":e.closeDialog}})],1)],1)},ce=[],ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center"},[r("v-card",{staticClass:"mx-auto mt-2",attrs:{color:"base"}},[r("v-card-title",{attrs:{placeholder:"test"}},[e._v(" Lägg till inventarie ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"Skriv in namnet på inventariet"},model:{value:e.itemName,callback:function(t){e.itemName=t},expression:"itemName"}}),r("v-text-field",{attrs:{label:"Garanti",rules:e.rules,placeholder:"Hur många års garanti har produkten"},model:{value:e.warranty,callback:function(t){e.warranty=t},expression:"warranty"}}),r("v-textarea",{attrs:{label:"Beskriving",rules:e.rules},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{label:"Inköpsdatum","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.orderDate,callback:function(t){e.orderDate=t},expression:"orderDate"}},"v-text-field",a,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},model:{value:e.orderDate,callback:function(t){e.orderDate=t},expression:"orderDate"}})],1),void 0!==e.projects?r("v-select",{attrs:{"prepend-icon":"mdi-calendar-check-outline",items:e.projects.map((function(e){return e})),"item-text":"projectName","item-value":"._id",placeholder:"Välj projekt"},model:{value:e.selectedProjectId,callback:function(t){e.selectedProjectId=t},expression:"selectedProjectId"}}):e._e(),r("ImageUploader"),r("v-card-actions",[r("v-btn",{attrs:{color:"accent2"},on:{click:e.createItemHandler}},[e._v(" Spara ")])],1)],1)],1)},le=[],de=(r("a4d3"),r("e01a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.sendImage(t)}}},[r("div",{staticClass:"field"},[r("v-file-input",{ref:"imag",attrs:{label:"Image upload",filled:"","prepend-icon":"mdi-camera",type:"file",accept:"image"},on:{change:e.selectFile}}),r("div",{staticClass:"field"},[r("v-btn",{on:{click:function(t){return e.uploadImage(e.selectedFile)}}},[e._v(" Ladda upp bilden ")])],1)],1)])],1)}),me=[],pe={name:"ImageUploader",data:function(){return{selectedFile:null}},methods:{selectFile:function(e){this.selectedFile=e},uploadImage:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("IMAGE/uploadImageToDB",e);case 2:case"end":return r.stop()}}),r)})))()}}},fe=pe,ve=r("23a7"),ge=r("4bd4"),he=Object(d["a"])(fe,de,me,!1,null,null,null),be=he.exports;p()(he,{VBtn:g["a"],VFileInput:ve["a"],VForm:ge["a"]});var xe={components:{ImageUploader:be},name:"CreatItem",data:function(){return{itemName:"",description:"",orderDate:"",warranty:"",receipt:"",selectedProjectId:void 0,rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],date:null,menu:!1}},watch:{menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},computed:{projects:function(){return this.$store.getters["PROJECT/getProjects"]},project:function(){return void 0!==this.$store.getters["PROJECT/getProjectFromProjects"](this.selectedProjectId)?this.$store.getters["PROJECT/getProjectFromProjects"](this.selectedProjectId):[]}},methods:{save:function(e){this.$refs.menu.save(e)},createItemHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={itemName:e.itemName,imageId:e.$store.getters["IMAGE/getImage"]._id,description:e.description,orderDate:e.orderDate,warranty:e.warranty,receipt:e.receipt,projectId:e.selectedProjectId,roomId:"5feb3656cbd090ff99f2c81c"},t.next=3,e.$store.dispatch("PROJECT/setProject",e.project);case 3:return t.next=5,e.$store.dispatch("ITEMS/createItem",r);case 5:return t.next=7,e.$store.dispatch("PROJECT/addItemToProject",e.$store.getters["ITEMS/getItem"]._id);case 7:if(0===e.$store.getters["PROJECT/getProject"].length){t.next=10;break}return t.next=10,e.$store.dispatch("PROJECT/updateProject",e.$store.getters["PROJECT/getProject"]);case 10:return t.next=12,e.$store.dispatch("PROJECT/setProjects");case 12:e.$emit("close-dialog");case 13:case"end":return t.stop()}}),t)})))()}}},Ie=xe,je=r("2e4b"),_e=r("e449"),we=r("b974"),ke=r("8654"),Se=r("a844"),Oe=Object(d["a"])(Ie,ue,le,!1,null,null,null),Pe=Oe.exports;p()(Oe,{VBtn:g["a"],VCard:U["a"],VCardActions:q["a"],VCardTitle:q["d"],VDatePicker:je["a"],VMenu:_e["a"],VSelect:we["a"],VTextField:ke["a"],VTextarea:Se["a"]});var ye={components:{CreateItem:Pe},name:"QuickStart",data:function(){return{fab:!1,dialogOutside:!1}},methods:{closeDialog:function(){this.dialogOutside=!1}}},Re=ye,Ve=r("c73b"),Ce=Object(d["a"])(Re,se,ce,!1,null,null,null),Ee=Ce.exports;p()(Ce,{VBtn:g["a"],VContainer:X["a"],VDialog:z["a"],VIcon:h["a"],VSpeedDial:Ve["a"]});var Te={name:"Home",components:{Dashboard:ie,QuickStart:Ee}},$e=Te,He=(r("cccb"),r("62ad")),Fe=r("0fd9"),Ne=Object(d["a"])($e,F,N,!1,null,null,null),Je=Ne.exports;p()(Ne,{VCard:U["a"],VCardSubtitle:q["b"],VCardText:q["c"],VCardTitle:q["d"],VCol:He["a"],VContainer:X["a"],VImg:ne["a"],VRow:Fe["a"]});var De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return void 0!==e.project?n("v-container",{attrs:{fluid:"","min-width":"300"}},[n("Quick-start"),n("v-row",[n("v-col",{attrs:{sm:"6",md:"6",color:"secondary"}},[n("v-card",{staticClass:"mx-auto px-1",attrs:{color:"primary","max-width":"600","min-width":"280"}},[n("v-card-title",[e._v(" "+e._s(e.project.projectName)+" ")]),n("v-card-subtitle",{attrs:{text:""}},[e._v(" 2021-01-02 En massa kablar och annat bös ")]),n("div",{staticClass:"d-flex justify-center px-4"},[n("v-img",{attrs:{height:"200",src:r("759d")}})],1),n("v-card-title",[e._v("Beskrivning")]),n("v-card-text",[e._v(" "+e._s(e.project.description)+" ")]),e.project.roomId?n("v-card-title",[e._v(" "+e._s(e.project.roomId.roomName)+" ")]):e._e(),e.project.category?n("v-card-title",[e._v(" "+e._s(e.project.category)+" ")]):e._e(),n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{color:"primary"}},[e._v(" Inventarier ")]),e._l(e.project.itemsId,(function(t){return n("v-expansion-panel-content",{key:t._id,attrs:{fucosable:"",color:"primary"}},[n("v-list-item",{attrs:{fluid:""}},[n("v-btn",{key:t._id,staticClass:"mx-auto my-auto mb-0",attrs:{width:"70%",depressed:""},on:{click:function(r){return e.goToItemHandler(t)}}},[e._v(e._s(t.itemName))]),n("v-list-item",[n("v-btn",{key:t._id+1,staticClass:"my-auto mb-0 mr-1 ",attrs:{icon:"",depressed:""},on:{click:function(r){return e.deleteItemHandler(t._id)}}},[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-delete")])],1),n("v-btn",{key:t._id+2,staticClass:"my-auto mb-0 ",attrs:{icon:"",depressed:""},on:{click:function(r){return e.deleteItemHandler(t._id)}}},[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-pencil")])],1)],1)],1)],1)}))],2)],1)],1)],1)],1)],1):e._e()},Le=[],Me={namespaced:!0,name:"Project",data:function(){return{}},components:{QuickStart:Ee},methods:{log:function(e){console.log(e)},goToItemHandler:function(e){this.$store.dispatch("ITEMS/setItem",e),localStorage.setItem("currentItem",JSON.stringify(e)),this.$router.push("Item")},deleteItemHandler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("ITEMS/deleteItem",e);case 2:t.$store.dispatch("PROJECT/setProjects");case 3:case"end":return r.stop()}}),r)})))()}},computed:{projects:function(){return this.$store.getters["PROJECT/getProjects"]},project:function(){return this.$store.getters["PROJECT/getProjectFromProjects"](this.$store.getters["PROJECT/getProject"]._id)}}},Ae=Me,Be=(r("9436"),Object(d["a"])(Ae,De,Le,!1,null,"24709eca",null)),Ue=Be.exports;p()(Be,{VBtn:g["a"],VCard:U["a"],VCardSubtitle:q["b"],VCardText:q["c"],VCardTitle:q["d"],VCol:He["a"],VContainer:X["a"],VExpansionPanel:Z["a"],VExpansionPanelContent:ee["a"],VExpansionPanelHeader:te["a"],VExpansionPanels:re["a"],VIcon:h["a"],VImg:ne["a"],VListItem:x["a"],VRow:Fe["a"]});var qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return void 0!==e.items||void 0!==e.item?r("v-container",{attrs:{fluid:""}},[r("Quick-start"),r("v-row",[r("v-col",{attrs:{sm:"6",md:"5",color:"secondary"}},[void 0!==e.item?r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[r("v-card-text",[r("div",{staticClass:"d-flex justify-space-between"},[r("div",{staticClass:"card-header"},[r("p",[e._v("Inventarie")]),r("p",{staticClass:"display-1 text--primary"},[e._v(" "+e._s(e.item.itemName)+" ")])]),r("div",{staticClass:"edit-buttons d-flex"},[r("Edit-item"),r("Delete-dialog")],1)]),r("v-img",{attrs:{height:"200",src:e.image}}),r("div",{staticClass:"text--primary"},[e._v(" "+e._s(e.item.description)+" ")])],1),r("v-card-actions",[r("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){e.reveal=!0}}},[e._v(" Visa mer ")])],1),r("v-expand-transition",[e.reveal?r("v-card",{staticClass:"transition-fast-in-fast-out v-card--reveal",staticStyle:{height:"100%"}},[r("v-card-text",{staticClass:"pb-0"},[r("p",[e._v("Garanti: "+e._s(e.item.warranty))]),r("p",[e._v("Inköpsdatum: "+e._s(e.item.orderDate))]),r("p",[e._v("Kvitto")]),r("p",[e._v("Rum: "+e._s(e.item.warranty))]),r("p",[e._v("Projekt: "+e._s(e.item.warranty))]),e.item.fileId?r("div",[r("v-icon",[e._v("mdi-arrow-up-bold-box-outline")]),e._v(e._s(e.item.fileId))],1):e._e(),r("v-btn",{attrs:{href:"http://localhost:3002/api/files/600fb8f6a3d0ea8edd3c3667"}},[e._v("visa fil ")])],1),r("v-card-actions",{staticClass:"pt-0"},[r("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){e.reveal=!1}}},[e._v(" Stäng ")])],1)],1):e._e()],1)],1):e._e()],1)],1),r("v-row",[r("v-col",{attrs:{sm:"6",md:"5"}},[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[r("v-card-text",[r("h5",[e._v("Alla inventarier")]),e._l(e.items,(function(t,n){return r("v-list-item",{key:n,attrs:{"two-line":""}},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.itemName))]),r("v-list-item-subtitle",[e._v(" "+e._s(t.description)+", ")])],1),r("v-list-item-action",[r("v-btn",{attrs:{icon:""},on:{click:function(r){return e.openItemDetails(t)}}},[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-open-in-new")])],1)],1)],1)}))],2)],1)],1)],1)],1):e._e()},ze=[],Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"344"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",a,!1),n),[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-delete")])],1)]}}]),model:{value:e.dialogBox,callback:function(t){e.dialogBox=t},expression:"dialogBox"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Radera inventarie")]),r("v-card-text",[r("div",{staticClass:"text-h5 mt-4 text-center"},[e._v(" Vill du radera "+e._s(e.item.itemName)+"? ")])]),r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{attrs:{color:"accent1"},on:{click:function(t){return e.deleteItemHandler(e.item._id)}}},[e._v("JA")]),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogBox=!1}}},[e._v("NEJ")])],1)],1)],1)},Qe=[],Ye={name:"deleteDialog",data:function(){return{dialogBox:!1}},methods:{deleteItemHandler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("ITEMS/deleteItem",e);case 2:0!==t.$store.getters["ITEMS/getItems"].length?localStorage.setItem("currentItem",JSON.stringify(t.$store.getters["ITEMS/getItems"][0])):localStorage.setItem("currentItem",[]),t.$store.dispatch("ITEMS/setItems"),t.$store.dispatch("PROJECT/setProjects"),t.dialogBox=!1;case 6:case"end":return r.stop()}}),r)})))()}},computed:{item:function(){return this.$store.getters["ITEMS/getItem"]}}},Ke=Ye,We=Object(d["a"])(Ke,Ge,Qe,!1,null,null,null),Xe=We.exports;p()(We,{VBtn:g["a"],VCard:U["a"],VCardActions:q["a"],VCardText:q["c"],VDialog:z["a"],VIcon:h["a"],VToolbar:G["a"]});var Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.storeOldId}},"v-btn",a,!1),n),[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-pencil")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{staticClass:"mx-auto mt-2",attrs:{color:"base"}},[r("v-card-title",[e._v(" Lägg till inventarie ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"itemName"},model:{value:e.item.itemName,callback:function(t){e.$set(e.item,"itemName",t)},expression:"item.itemName"}}),r("v-text-field",{attrs:{label:"Garanti",rules:e.rules,placeholder:"Hur många års garanti har produkten"},model:{value:e.item.warranty,callback:function(t){e.$set(e.item,"warranty",t)},expression:"item.warranty"}}),r("v-textarea",{attrs:{label:"Beskriving",rules:e.rules},model:{value:e.item.description,callback:function(t){e.$set(e.item,"description",t)},expression:"item.description"}}),r("v-select",{attrs:{"prepend-icon":"mdi-calendar-check-outline",items:e.projects.map((function(e){return e})),"item-text":"projectName","item-value":"_id",placeholder:e.project.projectName},model:{value:e.item.projectId,callback:function(t){e.$set(e.item,"projectId",t)},expression:"item.projectId"}}),r("v-select",{attrs:{"prepend-icon":"mdi-home-city",items:e.rooms.map((function(e){return e})),"item-text":"roomName","item-value":"_id",placeholder:e.item.roomId},model:{value:e.item.roomId,callback:function(t){e.$set(e.item,"roomId",t)},expression:"item.roomId"}}),r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{label:"Inköpsdatum","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.item.orderDate,callback:function(t){e.$set(e.item,"orderDate",t)},expression:"item.orderDate"}},"v-text-field",a,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},model:{value:e.item.orderDate,callback:function(t){e.$set(e.item,"orderDate",t)},expression:"item.orderDate"}})],1),r("v-img",{staticClass:"mb-2",attrs:{contain:"","lazy-src":e.image,src:e.image,"max-height":"100 "}}),r("ImageUploader"),r("FileUploader"),e.item.fileId?r("div",[r("v-icon",[e._v("mdi-arrow-up-bold-box-outline")]),e._v(e._s(e.item.fileId))],1):e._e(),r("v-card-actions",[r("v-btn",{attrs:{color:"accent2"},on:{click:e.updateItemHandler}},[e._v(" Spara ")])],1)],1)],1)},et=[],tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.sendFile(t)}}},[r("div",{staticClass:"field"},[r("v-file-input",{ref:"file",attrs:{label:"File upload",filled:"","prepend-icon":"mdi-camera",type:"file",accept:"file"},on:{change:e.selectFile}}),r("div",{staticClass:"field"},[r("v-btn",{on:{click:function(t){return e.uploadFile(e.selectedFile)}}},[e._v(" Ladda upp filen ")])],1)],1)])],1)},rt=[],nt={name:"FileUploader",data:function(){return{selectedFile:null}},methods:{selectFile:function(e){this.selectedFile=e},uploadFile:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,t.$store.dispatch("FILE/uploadFileToDB",e);case 3:case"end":return r.stop()}}),r)})))()}}},at=nt,ot=Object(d["a"])(at,tt,rt,!1,null,null,null),it=ot.exports;p()(ot,{VBtn:g["a"],VFileInput:ve["a"],VForm:ge["a"]});var st={components:{ImageUploader:be,FileUploader:it},name:"UpdateItem",data:function(){return{rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],date:null,menu:!1,inputField:!1,dialog:!1}},watch:{menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},computed:{item:function(){return this.$store.getters["ITEMS/getItem"]},image:function(){return"api/images/"+this.$store.getters["ITEMS/getItem"].imageId},projects:function(){return this.$store.getters["PROJECT/getProjects"]},project:function(){return void 0!==this.$store.getters["PROJECT/getProjectFromProjects"](this.item.projectId)?this.$store.getters["PROJECT/getProjectFromProjects"](this.item.projectId):[]},rooms:function(){return this.$store.getters["ROOM/getRooms"]},room:function(){return this.$store.getters["ROOM/getRoomFromRooms"](this.item.roomId)}},methods:{storeOldId:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.commit("PROJECT/setOldProject",e.project);case 2:return t.next=4,e.$store.commit("IMAGE/setOldImage",e.item.imageId);case 4:return t.next=6,e.$store.commit("FILE/setOldFile",e.item.fileId);case 6:case"end":return t.stop()}}),t)})))()},save:function(e){this.$refs.menu.save(e)},updateItemHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={_id:e.item._id,itemName:e.item.itemName,imageId:e.$store.getters["IMAGE/getImage"],description:e.item.description,orderDate:e.item.orderDate,fileId:e.$store.getters["FILE/getFile"]._id,warranty:e.item.warranty,projectId:e.item.projectId,roomId:e.item.roomId},t.next=3,e.$store.dispatch("ITEMS/updateItem",r);case 3:return t.next=5,e.$store.dispatch("IMAGE/updateImage",r.imageId);case 5:return localStorage.setItem("currentItem",JSON.stringify(e.$store.getters["ITEMS/getItem"])),t.next=8,e.$store.dispatch("FILE/updateFile",r.fileId);case 8:return t.next=10,e.$store.dispatch("PROJECT/setProject",e.project);case 10:return t.next=12,e.$store.dispatch("PROJECT/moveItemToProject",e.$store.getters["ITEMS/getItem"]._id);case 12:e.dialog=!1;case 13:case"end":return t.stop()}}),t)})))()}}},ct=st,ut=Object(d["a"])(ct,Ze,et,!1,null,null,null),lt=ut.exports;p()(ut,{VBtn:g["a"],VCard:U["a"],VCardActions:q["a"],VCardTitle:q["d"],VDatePicker:je["a"],VDialog:z["a"],VIcon:h["a"],VImg:ne["a"],VMenu:_e["a"],VSelect:we["a"],VTextField:ke["a"],VTextarea:Se["a"]});var dt={namespaced:!0,name:"item",data:function(){return{reveal:!1}},components:{QuickStart:Ee,DeleteDialog:Xe,EditItem:lt},methods:{openItemDetails:function(e){this.$store.dispatch("ITEMS/setItem",e),this.$store.dispatch("IMAGE/setImage",this.$store.getters["ITEMS/getItem"].imageId),localStorage.setItem("currentItem",JSON.stringify(e)),window.scrollTo(0,0)}},computed:{items:function(){return this.$store.getters["ITEMS/getItems"]},item:function(){return this.$store.getters["ITEMS/getItem"]},image:function(){return"api/images/"+this.$store.getters["ITEMS/getItem"].imageId}}},mt=dt,pt=(r("d5bf"),r("0789")),ft=r("1800"),vt=Object(d["a"])(mt,qe,ze,!1,null,"3589dcac",null),gt=vt.exports;p()(vt,{VBtn:g["a"],VCard:U["a"],VCardActions:q["a"],VCardText:q["c"],VCol:He["a"],VContainer:X["a"],VExpandTransition:pt["a"],VIcon:h["a"],VImg:ne["a"],VListItem:x["a"],VListItemAction:ft["a"],VListItemContent:I["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"],VRow:Fe["a"]});var ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[e._v("Logga in")])],1),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{name:"email",label:"Email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{id:"password",name:"password",label:"Lösenord",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("router-link",{attrs:{to:"/signup"}},[e._v("Inte registrerad? Registrera dig här.")])],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:e.loginHandler}},[e._v("Logga in")])],1)],1)],1)],1)],1)],1)],1)},bt=[],xt={name:"Login",data:function(){return{email:"",password:"",error:!1}},methods:{loginHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={email:e.email,password:e.password},t.next=3,e.$store.dispatch("SESSION/login",r).then((function(){!0===e.$store.getters["SESSION/getLoggedIn"]&&(e.$store.dispatch("PROJECT/setProjects"),e.$store.dispatch("HOUSE/setHouses"),e.$router.push({name:"Home"}))}));case 3:case"end":return t.stop()}}),t)})))()}}},It=xt,jt=r("0e8f"),_t=r("a722"),wt=r("2a7f"),kt=Object(d["a"])(It,ht,bt,!1,null,null,null),St=kt.exports;p()(kt,{VApp:y["a"],VBtn:g["a"],VCard:U["a"],VCardActions:q["a"],VCardText:q["c"],VContainer:X["a"],VFlex:jt["a"],VForm:ge["a"],VLayout:_t["a"],VMain:R["a"],VSpacer:w["a"],VTextField:ke["a"],VToolbar:G["a"],VToolbarTitle:wt["a"]});var Ot=r("2f62"),Pt=(r("4de4"),r("7db0"),r("c740"),r("a434"),"api/"),yt={Accept:"application/json"},Rt={namespaced:!0,state:{projects:[],project:[],oldProject:[]},getters:{getProjects:function(e){return e.projects},getProjectFromProjects:function(e){return function(t){return e.projects.find((function(e){return e._id===t}))}},getProject:function(e){return e.project}},mutations:{setProjects:function(e,t){e.projects=t},setProject:function(e,t){e.project=t},setProjectFromStorage:function(e,t){if(t){var r=JSON.parse(localStorage.getItem("currentProject")||"[]");t._id===r.userParentId&&(e.project=r)}},setOldProject:function(e,t){e.oldProject=t},createProject:function(e,t){e.projects.push(t)},addItemToProject:function(e,t){e.project.itemsId.push(t)},deleteItemFromProject:function(e,t){var r=e.oldProject.itemsId.findIndex((function(e){return e._id===t}));r>-1&&e.oldProject.itemsId.splice(r,1)}},selectedItem:function(e){return e.items.find((function(t){return t.id==e.selectedId}))},actions:{getProjectFromProjects:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.getters["getProjectFromProjects"](t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},setProjects:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Pt+"projects",{headers:yt});case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setProjects",n);case 7:case"end":return t.stop()}}),t)})))()},setProject:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.commit("setProject",t);case 2:case"end":return r.stop()}}),r)})))()},setProjectFromStorage:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/loggedIn");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setProjectFromStorage",n);case 7:case"end":return t.stop()}}),t)})))()},addItemToProject:function(e,t){if(0!==e.getters["getProject"].length){var r=e.getters["getProject"];1!==r.itemsId.filter((function(e){return e._id===t})).length&&e.commit("addItemToProject",t)}},moveItemToProject:function(e,t){if(void 0!==e.getters["getProject"].itemsId){var r=e.getters["getProject"];if(0===r.itemsId.length)return e.commit("addItemToProject",t),e.dispatch("updateProject",e.getters["getProject"]),e.commit("deleteItemFromProject",t),void e.dispatch("updateProject",this.state.PROJECT.oldProject);1!==r.itemsId.filter((function(e){return e._id===t})).length&&(e.commit("addItemToProject",t),e.dispatch("updateProject",r),e.commit("deleteItemFromProject",t),e.dispatch("updateProject",this.state.PROJECT.oldProject))}},createProject:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Pt+"newproject",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(){e.dispatch("setProjects")}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},updateProject:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Pt+"projects/"+t._id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()},deleteProject:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Pt+"projects/"+t,{method:"DELETE"}).then((function(e){return e.json()}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}}},Vt="/api/",Ct={Accept:"application/json"},Et={namespaced:!0,state:{rooms:[],room:[]},getters:{getRooms:function(e){return e.rooms},getRoom:function(e){return e.room},getRoomFromRooms:function(e){return function(t){return e.rooms.find((function(e){return e._id===t}))}}},mutations:{setRooms:function(e,t){e.rooms=t},setRoom:function(e,t){e.room=t},createRoom:function(e,t){e.rooms.push(t)}},actions:{setRooms:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Vt+"rooms",{headers:Ct});case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setRooms",n);case 7:case"end":return t.stop()}}),t)})))()},createRoom:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Vt+"newroom",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.commit("createRoom",t),e.commit("setRoom",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()}}},Tt="/api/",$t={Accept:"application/json"},Ht={namespaced:!0,state:{items:[],item:[]},getters:{getItems:function(e){return e.items},getItem:function(e){return e.item},getItemFromItems:function(e){return function(t){return e.items.find((function(e){return e._id===t}))}}},mutations:{setItems:function(e,t){e.items=t},setItem:function(e,t){e.item=t},createItem:function(e,t){e.items.push(t)},setItemFromStorage:function(e,t){if(t){var r=JSON.parse(localStorage.getItem("currentItem")||"[]");t._id===r.userParentId&&(e.item=r)}},updateItem:function(e,t){var r=e.items.findIndex((function(e){return e._id===t._id}));r>-1&&e.items.splice(r,1,t)},deleteItemFromState:function(e,t){var r=e.items.findIndex((function(e){return e._id===t}));r>-1&&e.items.splice(r,1),0!==e.items.length?e.item=e.items[0]:e.item=[]}},actions:{setItems:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Tt+"items",{headers:$t});case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setItems",n);case 7:case"end":return t.stop()}}),t)})))()},setItem:function(e,t){e.commit("setItem",t)},setItemFromStorage:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/loggedIn");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setItemFromStorage",n);case 7:case"end":return t.stop()}}),t)})))()},createItem:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Tt+"newitem",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.commit("createItem",t),e.commit("setItem",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},deleteItem:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Tt+"items/"+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(){e.commit("deleteItemFromState",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},updateItem:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Tt+"items/"+t._id,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.commit("updateItem",t),e.commit("setItem",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()}}},Ft="api/",Nt={namespaced:!0,state:{loggedIn:!1},getters:{getLoggedIn:function(e){return e.loggedIn}},mutations:{setLoggedIn:function(e,t){e.loggedIn=t},setLoggedInFromStorage:function(e){e.loggedIn=JSON.parse(localStorage.getItem("loggedIn")||!1)}},actions:{login:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Ft+"session/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:t.email,password:t.password})}).then((function(t){200===t.status?(e.commit("setLoggedIn",!0),localStorage.setItem("loggedIn",JSON.stringify(!0))):e.commit("setLoggedIn",!1)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Ft+"session/logout",{method:"POST",credentials:"include"}).then((function(t){200===t.status?(e.commit("setLoggedIn",!1),localStorage.setItem("loggedIn",JSON.stringify(!1))):e.commit("setLoggedIn",!0)}));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))()},signup:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ft+"newuser",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()},setLoggedInFromStorage:function(e){e.commit("setLoggedInFromStorage")}}},Jt=(r("b0c0"),"/api/"),Dt={namespaced:!0,state:{image:[],oldImageId:[]},getters:{getImage:function(e){return e.image}},mutations:{setImage:function(e,t){e.image=t},setOldImage:function(e,t){e.oldImageId=t}},actions:{setImage:function(e,t){e.commit("setImage",t)},updateImage:function(e,t){t!==this.state.IMAGE.oldImageId&&(console.log("ta bort gammal bild"),e.dispatch("deleteImageFromDB",this.state.IMAGE.oldImageId))},uploadImageToDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=new FormData,n.append("image",t,t.name),r.next=4,fetch(Jt+"images",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){e.commit("setImage",t)}));case 4:return a=r.sent,r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})))()},deleteImageFromDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Jt+"images/"+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log("image deleted"+e)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}}},Lt="/api/",Mt={Accept:"application/json"},At={namespaced:!0,state:{houses:[],house:[]},getters:{getHouses:function(e){return e.houses},getHouse:function(e){return e.house},getHouseFromHouses:function(e){return function(t){return e.houses.find((function(e){return e._id===t}))}}},mutations:{setHouses:function(e,t){e.houses=t},setHouse:function(e,t){e.house=t},createHouse:function(e,t){e.house.push(t)},addRoomToHouse:function(e,t){e.house.rooms.push(t)},setHouseFromStorage:function(e,t){if(t){var r=JSON.parse(localStorage.getItem("currentHouse")||"[]");t._id===r.userParentId&&(e.house=r)}}},actions:{setHouseFromStorage:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/loggedIn");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setHouseFromStorage",n);case 7:case"end":return t.stop()}}),t)})))()},setHouses:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Lt+"houses",{headers:Mt});case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.commit("setHouses",n);case 7:case"end":return t.stop()}}),t)})))()},setHouseFromDb:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Lt+"houses/"+t,{headers:Mt});case 2:return n=r.sent,r.next=5,n.json();case 5:a=r.sent,e.commit("setHouse",a);case 7:case"end":return r.stop()}}),r)})))()},createHouse:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(Lt+"newhouse",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.commit("createHouse",t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))()},setHouse:function(e,t){e.commit("setHouse",t)},updateHouse:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Lt+"houses/"+t._id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()},addRoomToHouse:function(e,t){e.commit("addRoomToHouse",t)}}},Bt="/api/",Ut={namespaced:!0,state:{file:[],oldFileId:[]},getters:{getFile:function(e){return e.file}},mutations:{setFile:function(e,t){e.file=t},setOldFile:function(e,t){e.oldFileId=t}},actions:{setFile:function(e,t){e.commit("setImage",t)},updateFile:function(e,t){console.log(t+"nytt id "+this.state.FILE.oldFileId+"gammalt id"),void 0!==this.state.IMAGE.oldFileID?t!==this.state.IMAGE.oldFileId?(console.log("ta bort gammal fil"),e.dispatch("deleteFileFromDB",this.state.FILE.oldFileId)):console.log("finns inget att updatera"):console.log("tomt oldFileId")},uploadFileToDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("addfile",t),n=new FormData,n.append("file",t,t.name),r.next=5,fetch(Bt+"files",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){e.commit("setFile",t),console.log(t,"fileupload complete")}));case 5:return a=r.sent,r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})))()},deleteFileFromDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Bt+"files/"+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log("file deleted"+e._id)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}}};n["a"].use(Ot["a"]);var qt=new Ot["a"].Store({modules:{PROJECT:Rt,ROOM:Et,ITEMS:Ht,SESSION:Nt,IMAGE:Dt,HOUSE:At,FILE:Ut}}),zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("Quick-start"),r("v-row",[e.houses?r("v-select",{attrs:{"prepend-icon":"mdi-calendar-check-outline",items:e.houses.map((function(e){return e})),"item-text":"houseName","item-value":"_id",placeholder:e.house.houseName},on:{change:function(t){return e.goToHouseHandler(e.currentHouseId)}},model:{value:e.currentHouseId,callback:function(t){e.currentHouseId=t},expression:"currentHouseId"}}):e._e(),r("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[e._v(" "+e._s(e.log(e.house))+" "),void 0!==e.house.rooms&&null!==e.house.rooms[0]?r("v-card",{staticClass:"mx-auto",attrs:{color:"base"}},e._l(e.house.rooms,(function(t){return r("v-expansion-panels",{key:t._id,attrs:{focusable:""}},[r("v-expansion-panel",[r("v-expansion-panel-header",[e._v(e._s(t.roomName))]),r("v-expansion-panel-content",[r("p",[e._v("Höjd till tak: "+e._s(t.roomHeight))]),r("p",[e._v("Antal kvadratmeter "+e._s(t.roomSize))]),r("div",{staticClass:"items"},[r("h5",[e._v("Inventarier")]),r("v-expansion-panels",e._l(t.items,(function(t){return r("v-expansion-panel",{key:t._id},[r("v-expansion-panel-header",[e._v(" "+e._s(t.itemName)+" ")]),r("v-expansion-panel-content",[r("p",[e._v("Beskrivning")]),e._v(" "+e._s(t.description)+" "),r("v-btn",{on:{click:function(r){return e.goToItemHandler(t)}}},[e._v("Visa inventariet")])],1)],1)})),1)],1),r("div",{staticClass:"projects"},[r("h5",[e._v("Projekt")]),r("v-expansion-panels",e._l(t.projects,(function(t,n){return r("v-expansion-panel",{key:n},[r("v-expansion-panel-header",[e._v(" "+e._s(t.projectName)+" ")]),r("v-expansion-panel-content",[e._v(" "+e._s(t.description)+" "),r("v-btn",{on:{click:function(r){return e.goToProjectHandler(t)}}},[e._v("Gå till projektet")])],1)],1)})),1)],1)])],1)],1)})),1):e._e()],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-carousel",{attrs:{cycle:"",height:"400","hide-delimiter-background":"","show-arrows-on-hover":""}},e._l(e.slides,(function(t,n){return r("v-carousel-item",{key:n},[r("v-sheet",{attrs:{color:e.colors[n],height:"100%"}},[r("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[r("div",{staticClass:"display-3"},[e._v(e._s(t)+" Slide")])])],1)],1)})),1)],1)],1),r("v-row",[r("v-col",[r("CreateHouse")],1),r("v-col",[r("CreateRoom")],1)],1)],1)},Gt=[],Qt=r("b41b"),Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",[r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",a,!1),n),[e._v(" skapa nytt hus ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7","max-height":"100%"}},[r("v-card",{staticClass:"mx-auto mt-2",attrs:{"max-width":"344"}},[r("v-card-title",{attrs:{placeholder:"test"}},[e._v(" Skapa nytt hus ")]),r("v-card-subtitle",{attrs:{color:"error",text:""}},[e._v(" Datum: 2021-01-02 ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"Skriv in namnet på ditt hus"},model:{value:e.houseName,callback:function(t){e.houseName=t},expression:"houseName"}}),r("v-text-field",{attrs:{label:"House size"},model:{value:e.houseSize,callback:function(t){e.houseSize=t},expression:"houseSize"}}),r("v-text-field",{attrs:{label:"Number of rooms"},model:{value:e.numberOfRooms,callback:function(t){e.numberOfRooms=t},expression:"numberOfRooms"}}),r("v-card-actions",[r("v-btn",{on:{click:e.createHouseHandler}},[e._v(" Skapa hus ")]),r("v-spacer")],1)],1)],1)],1)],1)],1)},Kt=[],Wt={name:"CreateHouse",data:function(){return{houseName:"",houseSize:"",numberOfRooms:"",houseCategory:"",rooms:[],projects:[],rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],dialog:!1}},methods:{createHouseHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r={houseName:e.houseName,houseCategory:e.houseCategory,houseSize:e.houseSize,numberOfRooms:e.numberOfRooms,rooms:e.rooms,projects:e.projects},e.$store.dispatch("HOUSE/createHouse",r),e.diaolg=!1;case 3:case"end":return t.stop()}}),t)})))()}}},Xt=Wt,Zt=Object(d["a"])(Xt,Yt,Kt,!1,null,null,null),er=Zt.exports;p()(Zt,{VBtn:g["a"],VCard:U["a"],VCardActions:q["a"],VCardSubtitle:q["b"],VCardTitle:q["d"],VDialog:z["a"],VRow:Fe["a"],VSheet:ae["a"],VSpacer:w["a"],VTextField:ke["a"]});var tr={data:function(){return{currentHouseId:{},colors:["indigo","warning","pink darken-2","red lighten-1","deep-purple accent-4"],slides:["First","Second","Third","Fourth","Fifth"]}},name:"Home",components:{QuickStart:Ee,CreateHouse:er,CreateRoom:Qt["default"]},methods:{log:function(e){console.log(e)},goToProjectHandler:function(e){this.$store.dispatch("PROJECT/setProject",e),localStorage.setItem("currentProject",JSON.stringify(e)),this.$router.push("Project")},goToItemHandler:function(e){this.$store.dispatch("ITEMS/setItem",e),localStorage.setItem("currentItem",JSON.stringify(e)),this.$router.push("Item")},goToHouseHandler:function(e){var t=this.$store.getters["HOUSE/getHouseFromHouses"](e);localStorage.setItem("currentHouse",JSON.stringify(t)),this.$store.dispatch("HOUSE/setHouse",t)}},computed:{houses:function(){return this.$store.getters["HOUSE/getHouses"]},house:function(){return this.$store.getters["HOUSE/getHouse"]}}},rr=tr,nr=(r("0854"),r("5e66")),ar=r("3e35"),or=Object(d["a"])(rr,zt,Gt,!1,null,null,null),ir=or.exports;p()(or,{VBtn:g["a"],VCard:U["a"],VCarousel:nr["a"],VCarouselItem:ar["a"],VCol:He["a"],VContainer:X["a"],VExpansionPanel:Z["a"],VExpansionPanelContent:ee["a"],VExpansionPanelHeader:te["a"],VExpansionPanels:re["a"],VRow:Fe["a"],VSelect:we["a"],VSheet:ae["a"]});var sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[e._v("Registrering")])],1),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{name:"firstName",label:"Förnamn",type:"text"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),r("v-text-field",{attrs:{name:"lastName",label:"Efternamn",type:"lastName"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),r("v-text-field",{attrs:{name:"email",label:"Email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{id:"password",name:"password",label:"Lösenord",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:e.signupHandler}},[e._v("Registrera")])],1)],1)],1)],1)],1)],1)],1)},cr=[],ur={name:"Signup",data:function(){return{email:"",password:"",firstName:"",lastName:"",error:!1}},methods:{signupHandler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password},t.next=3,e.$store.dispatch("SESSION/signup",r).then((function(){e.$router.push({name:"Login"})}));case 3:case"end":return t.stop()}}),t)})))()}}},lr=ur,dr=Object(d["a"])(lr,sr,cr,!1,null,null,null),mr=dr.exports;p()(dr,{VApp:y["a"],VBtn:g["a"],VCard:U["a"],VCardActions:q["a"],VCardText:q["c"],VContainer:X["a"],VFlex:jt["a"],VForm:ge["a"],VLayout:_t["a"],VMain:R["a"],VSpacer:w["a"],VTextField:ke["a"],VToolbar:G["a"],VToolbarTitle:wt["a"]}),n["a"].use(H["a"]);var pr=[{path:"/",name:"Home",component:Je,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:St},{path:"/signup",name:"Signup",component:mr},{path:"/createhouse",name:"CreateHouse",component:er,meta:{requiresAuth:!0}},{path:"/project",name:"Project",component:Ue,meta:{requiresAuth:!0}},{path:"/item",name:"Item",component:gt,meta:{requiresAuth:!0}},{path:"/house",name:"House",component:ir,meta:{requiresAuth:!0}},{path:"/createproject",name:"CreateProject",component:function(){return r.e("about").then(r.bind(null,"59bc"))},meta:{requiresAuth:!0}},{path:"/createroom",name:"CreateRoom",component:function(){return Promise.resolve().then(r.bind(null,"b41b"))},meta:{requiresAuth:!0}}],fr=new H["a"]({mode:"history",base:"/",routes:pr});fr.beforeEach((function(e,t,r){qt.dispatch("SESSION/setLoggedInFromStorage");var n=qt.getters["SESSION/getLoggedIn"];e.matched.some((function(e){return e.meta.requiresAuth}))?n?r():r({path:"/login",query:{redirect:e.fullPath}}):r()}));var vr=fr;n["a"].config.productionTip=!1,new n["a"]({store:qt,vuetify:$,router:vr,render:function(e){return e(C)}}).$mount("#app")},"5ced":function(e,t,r){},6073:function(e,t,r){"use strict";r("1455")},6374:function(e,t,r){},"759d":function(e,t,r){e.exports=r.p+"img/chris-briggs-ILBrHd6PFJA-unsplash.b8200a69.jpg"},9436:function(e,t,r){"use strict";r("4d94")},b41b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",[r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",a,!1),n),[e._v(" skapa nytt rum ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7","max-height":"100%"}},[r("v-card",{staticClass:"mx-auto mt-2",attrs:{"max-width":"344"}},[r("v-card-title",{attrs:{placeholder:"test"}},[e._v(" Skapa nytt rum ")]),r("v-card-subtitle",{attrs:{color:"error",text:""}},[e._v(" Datum: 2021-01-02 ")]),r("v-text-field",{attrs:{label:"Namn",rules:e.rules,placeholder:"Skriv in namnet på ditt projekt"},model:{value:e.roomName,callback:function(t){e.roomName=t},expression:"roomName"}}),r("v-textarea",{attrs:{label:"Room size",rules:e.rules},model:{value:e.roomSize,callback:function(t){e.roomSize=t},expression:"roomSize"}}),r("v-textarea",{attrs:{label:"Room height",rules:e.rules},model:{value:e.roomHeight,callback:function(t){e.roomHeight=t},expression:"roomHeight"}}),r("v-card-actions",[r("v-btn",{on:{click:e.createRoomHandler}},[e._v(" Skapa rum ")]),r("v-spacer")],1)],1)],1)],1)],1)],1)},a=[],o=(r("96cf"),r("1da1")),i={name:"CreateRoom",data:function(){return{roomName:"",roomSize:"",roomHeight:"",rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],dialog:!1}},methods:{createRoomHandler:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={roomName:e.roomName,roomSize:e.roomSize,roomHeight:e.roomHeight},t.next=3,e.$store.dispatch("ROOM/createRoom",r);case 3:return t.next=5,e.$store.dispatch("HOUSE/addRoomToHouse",e.$store.getters["ROOM/getRoom"]._id);case 5:return t.next=7,e.$store.dispatch("HOUSE/updateHouse",e.$store.getters["HOUSE/getHouse"]);case 7:return t.next=9,e.$store.dispatch("HOUSE/setHouseFromDb",e.$store.getters["HOUSE/getHouse"]._id);case 9:return t.next=11,e.$store.dispatch("HOUSE/setHouses");case 11:e.dialog=!1;case 12:case"end":return t.stop()}}),t)})))()}}},s=i,c=r("2877"),u=r("6544"),l=r.n(u),d=r("8336"),m=r("b0af"),p=r("99d9"),f=r("169a"),v=r("0fd9"),g=r("8dd9"),h=r("2fa4"),b=r("8654"),x=r("a844"),I=Object(c["a"])(s,n,a,!1,null,null,null);t["default"]=I.exports;l()(I,{VBtn:d["a"],VCard:m["a"],VCardActions:p["a"],VCardSubtitle:p["b"],VCardTitle:p["d"],VDialog:f["a"],VRow:v["a"],VSheet:g["a"],VSpacer:h["a"],VTextField:b["a"],VTextarea:x["a"]})},cccb:function(e,t,r){"use strict";r("5ced")},d5bf:function(e,t,r){"use strict";r("ede2")},ede2:function(e,t,r){}});
//# sourceMappingURL=app.70cf764e.js.map